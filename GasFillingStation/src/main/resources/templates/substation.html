<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link th:href="@{/css/substation.css}" rel="stylesheet" />
<link th:href="@{/bootstrap-3.3.4-dist/css/bootstrap.min.css}" rel="stylesheet" />
<title>加气站管理系统</title>
</head>
<body>
<div th:include="header" style="width:100%;"></div>
<div class="substation" ng-controller="substation">
    <div class="main">
        <div class="employee-list panel panel-primary">
            <div class="panel-heading">
                <span class="ng-cloak">站点总数:<strong>{{totalCount}}</strong></span>
                <span class="right btn-white btn btn-xs btn-title" ng-click="addSubStationPopup()">添加子站</span>
            </div>
            <div class="content">
                <table class="table table-striped table-hover ">
	              <thead>
	                <tr>
	                    <th class="underline"><span ng-click="changeSort('name')">公司名</span></th>
	                    <th class="underline"><span ng-click="changeSort('location')">位置</span></th>
	                    <th><span>负责人</span></th>
	                    <th><span>手机号</span></th>
	                    <th class="underline"><span ng-click="changeSort('freeGasNumber')">剩余气体量</span></th>
	                    <th><span>操作</span></th>
	                </tr>
	              </thead>
	              <tbody>
	                <tr ng-repeat="company in companys">
	                    <td><a href="javascript:void(0)" ng-click="changePage('detail')">{{company.name}}</a></td>
	                    <td>{{company.location}}</td>
	                    <td>{{company.leader}}</td>
	                    <td>{{company.phone}}</td>
	                    <td>{{company.freeGasNumber}}</td>
	                    <td>
	                        <span class="glyphicon glyphicon-edit" ng-click="editCompany(company.id)"  style="cursor: pointer"></span>
                            <span class="glyphicon glyphicon-remove" style="margin-left: 5px; cursor: pointer"  ng-click="deleteCompany(company.id)"></span>
	                    </td>
	                </tr>
	              </tbody>
	             </table>
            </div>
            <pagenation go-page="gotoPage(page)" total-pages="totalPages" change-size="changeRowNums(num)"></pagenation>
        </div>
    </div>
    <div class="addSubStation ng-hide" ng-show="showAddSubStation">
        <div class="addSubStationMask"></div>
        <div class="content panel panel-primary">
                <div class="panel-heading" style="margin-bottom: 10px;">
                    <span style="font-size: 14pt;">添加子站</span>
                    <span class="close right btn" ng-click="closeaddSubStationPopup()" style="position: absolute;top: 0;right: 0;">X</span>
                </div>
                <div class="item">
                    <span class="col col1">子站名:</span>
                    <input type="text" class="col col2" ng-model="addSubStation.name"/>
                </div>
                <div class="item">
                    <span class="col col1">位置:</span>
                    <input type="text" class="col col2" ng-model="addSubStation.location"/>
                </div>
                <div class="item">
                    <span class="col col1">负责人工号:</span>
                    <input type="text" class="col col2" ng-model="addSubStation.leadingUser"/>
                </div>
                <div class="item">
                    <span class="col col1">剩余气体量:</span>
                    <input type="text" class="col col2" ng-model="addSubStation.freeGasNumber" />
                </div>
                <div class="btngroup">
                    <span class="btn btn-reset btn-primary" ng-click="reset()">清除</span>
                    <span class="btn btn-submit btn-primary" ng-click="submit()">提交</span>
                </div>
        </div>
    </div>
</div>
<script type="text/javascript" src="/js/jquery.min.js"></script>
<script type="text/javascript" src="/js/common.js"></script>
<script type="text/javascript" src="/js/substation.js"></script>
</body>
</html>